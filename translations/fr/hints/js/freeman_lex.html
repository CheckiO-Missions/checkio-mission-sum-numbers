<body data-author="freeman_lex">
<div class="question-answer">
    <div class="question">
        <p>Je n'ai aucune id√©e de la mani√®re de commencer √† r√©soudre cette mission.</p>
    </div>
    <div class="answer">
        <p>
            üí° L'id√©e est de diviser le texte donn√© par des espaces en mots et de convertir chacun d'entre eux en nombre. Si la conversion est correcte, ajoutez ce nombre au r√©sultat.
        </p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        <p>Ok, par quoi dois-je commencer?</p>
    </div>
    <div class="answer">
        <p>
            D√©clarez une nouvelle variable <b class="code">res</b> avec une valeur initiale de <b class="code">0</b>. Il s'agit de la somme des nombres corrects que votre fonction doit renvoyer.
        </p>
        <pre class="brush: javascript">
let res = 0;
...
return res
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        <p>
            Ok, que faire ensuite?
        </p>
    </div>
    <div class="answer">
        <p>
            Utilisez la m√©thode <a target="_blank" href="https://www.w3schools.com/jsref/jsref_split.asp">split()</a> avec l'argument whitespace pour diviser le texte en mots et <a target="_blank" href="https://www.w3schools.com/js/js_loop_forof.asp">for/of loop</a> pour it√©rer sur ces mots en tant que valeurs de la variable <b class="code">str.</b> 
        </p>
        <pre class="brush: javascript">
for (let str of text.split(" ")){...}
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        <p>
            J'ai besoin d'un petit conseil.
        </p>
    </div>
    <div class="answer">
        <p>
            Vous avez des mots sous forme de cha√Æne. Maintenant, √† l'int√©rieur de la boucle, vous devez convertir chacun d'entre eux en nombre avec la m√©thode <a target="_blank" href="https://www.w3schools.com/jsref/jsref_number.asp">Number()</a> et l'assigner √† une nouvelle variable <b class="code">num</b>.
        </p>
        <pre class="brush: javascript">
for (let str of text.split(" ")){
    let num = Number(str);
    ...
}
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        <p>
            Comment v√©rifier si la conversion est correcte?
        </p>
    </div>
    <div class="answer">
        <p>
            Il s'agit ici d'une logique un peu d√©licate. Le <b class="code">num</b> doit √™tre un nombre, nous pouvons donc dire qu'il ne peut PAS √™tre <b class="code">NaN</b> (pas un nombre). Pour effectuer une telle v√©rification, vous avez besoin de la m√©thode <a target="_blank" href="https://www.w3schools.com/jsref/jsref_isnan.asp">isNaN()</a> (qui renvoie <b class="code">un vrai</b> si la valeur n'est pas un nombre) et de l'op√©rateur <b class="code">!</b> (not) pour inverser le r√©sultat de la m√©thode.
        </p>
        <pre class="brush: javascript">
if (!isNaN(num))
    ...
        </pre>
        <p>
            Si la v√©rification est <b class="code">vraie</b>, ajoutez le nombre <b class="code">num</b> au r√©sultat <b class="code">res</b>.
        </p>
        <pre class="brush: javascript">
res += num
        </pre>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        <p>Alors, √† quoi devrait ressembler ma solution finale?</p>
    </div>
    <div class="answer">
        <p>
            Il vous suffit d'envelopper votre code dans une expression de fonction et de joindre tous les indices pr√©c√©dents.
        </p>
        <p>Voici la solution compl√®te:</p>
        <div class="spoiler">
        <pre class="brush: javascript">
function sumNumbers(text: string): number {
    
    let res = 0;
    for (let str of text.split(" ")){
        let num = Number(str);
        if (!isNaN(num))
            res += num
    }   
    return res
}
        </pre>
        </div>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        <p>Montrez-moi d'autres solutions!<br />
        parce que je veux √™tre un vrai ü•á Javascript Hero!</p>
    </div>
    <div class="answer">
        <p>Bien s√ªr, prenez-le!</p>
        <p>
            Cr√©ez un tableau √† partir du texte initial avec des blocs de chiffres uniquement en utilisant une expression r√©guli√®re, puis commencez √† partir de <b class="code">0</b>, convertissez chaque bloc en nombre avec <b class="code">+</b> et trouvez la somme.
        </p>
        <div class="spoiler">
        <pre class="brush: javascript">
function sumNumbers(t: string): number {

    return (t.match(/\b\d+\b/g)||[]).reduce((a,c)=>a+ +c,0);
}
        </pre>
        </div>
        <p>
            Cette solution peut √™tre √©crite en une seule ligne, mais pour la rendre plus √©troite que large, chaque m√©thode est √©crite √† partir de la nouvelle ligne. Divisez le texte, filtrez uniquement les nombres valides et r√©duisez-les √† l'aide de la fonction sum qui convertit chaque cha√Æne en nombre. La fonction anonyme est √©galement utilis√©e ici.
        </p>
        <div class="spoiler">
        <pre class="brush: javascript">
var sumNumbers = (test: string): number => test
    .split(' ')
    .filter(Number)
    .reduce((a, i) => a + Number(i), 0);
        </pre>
        </div>
        <p><b>Cliquez sur "Meilleures solutions" dans le menu de mission et voyez beaucoup d'autres solutions int√©ressantes!</b></p>
    </div>
</div>
<div class="question-answer">
    <div class="question">
        <p>Merci beaucoup! J'en sais plus et je comprends mieux maintenant! Tout fonctionne bien!</p>
    </div>
    <div class="answer">
        üëç Heureux de l'apprendre!
    </div>
</div>
</body>
